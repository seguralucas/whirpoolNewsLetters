package whirlpool.newsletter;

import javax.ws.rs.Consumes;
import javax.ws.rs.GET;
import javax.ws.rs.POST;
import javax.ws.rs.Path;
import javax.ws.rs.Produces;
import javax.ws.rs.core.Context;
import javax.ws.rs.core.MediaType;
import javax.ws.rs.core.Response;
import javax.ws.rs.core.UriInfo;

import whirlpool.newsletter.constantes.ConstantesGenerales;




@Path("/newsLetters")
public class NewsLettersService {
    	 
	   @Context
	   private UriInfo uri;
	   
	@GET
	@Produces(MediaType.APPLICATION_JSON)
	public String getTrackInJSON() {
/*		NewsLetters newsLetters = new NewsLetters();
		newsLetters.setBirthDate("25/12/2017");
		newsLetters.setCustomerId("111");
		newsLetters.setFirstName("PrimerNombre");
		newsLetters.setLastName("LastName");
		newsLetters.setRegistro("Alguno");
		newsLetters.setTienda("tienda");*/
	      String contextRoot = uri.getBaseUri().toString();

		Propiedades p = new Propiedades();
		String path = getServletContext().getRealPath("WEB-INF/../");
		File file = new File(path);
		String fullPathToYourWebappRoot = file.getCanonicalPath();
		WritterHelper.getInstance().escribirAlFinal(p.getPathSalida(), line);
	    return p.getPathSalida();	    
	}
	
		@POST
		@Consumes(MediaType.APPLICATION_JSON)
		public Response createTrackInJSON(NewsLetters newsLetters) {
			String result = "Saved : " + newsLetters;
			return Response.status(201).entity(result).build();

		}
	}
